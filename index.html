<!DOCTYPE html>
<html lang="fr">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Mon Dashboard</title>
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }

        body {
            font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, sans-serif;
            min-height: 100vh;
            background: linear-gradient(135deg, #0f0f1a 0%, #1a1a2e 50%, #16213e 100%);
            color: #fff;
        }

        /* Navigation Tabs */
        .nav-tabs {
            display: flex;
            background: rgba(0, 0, 0, 0.3);
            padding: 10px 20px;
            gap: 5px;
            overflow-x: auto;
            position: sticky;
            top: 0;
            z-index: 100;
            backdrop-filter: blur(10px);
        }

        .nav-tab {
            padding: 12px 24px;
            background: transparent;
            border: none;
            color: rgba(255, 255, 255, 0.6);
            cursor: pointer;
            border-radius: 10px;
            font-size: 0.95rem;
            transition: all 0.3s ease;
            white-space: nowrap;
            display: flex;
            align-items: center;
            gap: 8px;
        }

        .nav-tab:hover {
            background: rgba(255, 255, 255, 0.1);
            color: #fff;
        }

        .nav-tab.active {
            background: rgba(255, 255, 255, 0.15);
            color: #fff;
        }

        .tab-content {
            display: none;
            padding: 30px;
            max-width: 1400px;
            margin: 0 auto;
            animation: fadeIn 0.3s ease;
        }

        .tab-content.active {
            display: block;
        }

        @keyframes fadeIn {
            from { opacity: 0; transform: translateY(10px); }
            to { opacity: 1; transform: translateY(0); }
        }

        /* Header */
        .header {
            text-align: center;
            padding: 30px 20px;
            background: rgba(0, 0, 0, 0.2);
        }

        .header h1 {
            font-size: 2rem;
            font-weight: 300;
            margin-bottom: 5px;
        }

        .header .datetime {
            opacity: 0.7;
            font-size: 1.1rem;
        }

        .header .hebrew-date {
            opacity: 0.6;
            font-size: 0.95rem;
            margin-top: 5px;
        }

        /* Search Bar */
        .search-bar {
            max-width: 600px;
            margin: 20px auto;
            position: relative;
        }

        .search-bar input {
            width: 100%;
            padding: 16px 24px;
            font-size: 1rem;
            border: none;
            border-radius: 50px;
            background: rgba(255, 255, 255, 0.1);
            color: #fff;
            backdrop-filter: blur(10px);
        }

        .search-bar input::placeholder {
            color: rgba(255, 255, 255, 0.5);
        }

        .search-bar input:focus {
            outline: none;
            background: rgba(255, 255, 255, 0.15);
        }

        /* Cards */
        .card {
            background: rgba(255, 255, 255, 0.08);
            border-radius: 16px;
            padding: 20px;
            margin-bottom: 20px;
            border: 1px solid rgba(255, 255, 255, 0.1);
        }

        .card-header {
            display: flex;
            justify-content: space-between;
            align-items: center;
            margin-bottom: 15px;
        }

        .card-title {
            font-size: 1.1rem;
            font-weight: 500;
            display: flex;
            align-items: center;
            gap: 10px;
        }

        /* Shortcuts Grid */
        .shortcuts-grid {
            display: grid;
            grid-template-columns: repeat(auto-fill, minmax(130px, 1fr));
            gap: 15px;
        }

        .shortcut {
            display: flex;
            flex-direction: column;
            align-items: center;
            padding: 20px 15px;
            background: rgba(255, 255, 255, 0.06);
            border-radius: 14px;
            cursor: pointer;
            transition: all 0.3s ease;
            text-decoration: none;
            color: #fff;
        }

        .shortcut:hover {
            background: rgba(255, 255, 255, 0.12);
            transform: translateY(-3px);
        }

        .shortcut-icon {
            width: 48px;
            height: 48px;
            border-radius: 12px;
            display: flex;
            align-items: center;
            justify-content: center;
            font-size: 1.3rem;
            margin-bottom: 10px;
            font-weight: 600;
        }

        .shortcut-name {
            font-size: 0.85rem;
            text-align: center;
            opacity: 0.9;
        }

        .add-shortcut {
            border: 2px dashed rgba(255, 255, 255, 0.2);
            background: transparent;
        }

        .add-shortcut .shortcut-icon {
            background: transparent;
            font-size: 1.8rem;
            opacity: 0.4;
        }

        /* Colors */
        .color-1 { background: linear-gradient(135deg, #667eea, #764ba2); }
        .color-2 { background: linear-gradient(135deg, #f093fb, #f5576c); }
        .color-3 { background: linear-gradient(135deg, #4facfe, #00f2fe); }
        .color-4 { background: linear-gradient(135deg, #43e97b, #38f9d7); }
        .color-5 { background: linear-gradient(135deg, #fa709a, #fee140); }
        .color-6 { background: linear-gradient(135deg, #a8edea, #fed6e3); }
        .color-7 { background: linear-gradient(135deg, #ff9a9e, #fecfef); }
        .color-8 { background: linear-gradient(135deg, #ffecd2, #fcb69f); }

        /* News Section */
        .news-grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(350px, 1fr));
            gap: 20px;
        }

        .news-category {
            background: rgba(255, 255, 255, 0.05);
            border-radius: 14px;
            overflow: hidden;
        }

        .news-category-header {
            padding: 15px 20px;
            background: rgba(255, 255, 255, 0.08);
            font-weight: 500;
            display: flex;
            align-items: center;
            gap: 10px;
        }

        .news-list {
            padding: 10px;
            max-height: 400px;
            overflow-y: auto;
        }

        .news-item {
            padding: 12px 15px;
            border-radius: 10px;
            cursor: pointer;
            transition: background 0.2s;
            display: block;
            text-decoration: none;
            color: #fff;
        }

        .news-item:hover {
            background: rgba(255, 255, 255, 0.08);
        }

        .news-item-title {
            font-size: 0.95rem;
            margin-bottom: 5px;
            line-height: 1.4;
        }

        .news-item-meta {
            font-size: 0.8rem;
            opacity: 0.5;
        }

        .news-loading {
            text-align: center;
            padding: 40px;
            opacity: 0.5;
        }

        /* Weather Widget */
        .weather-widget {
            display: flex;
            align-items: center;
            gap: 30px;
            padding: 20px;
        }

        .weather-main {
            text-align: center;
        }

        .weather-temp {
            font-size: 4rem;
            font-weight: 200;
            line-height: 1;
        }

        .weather-icon {
            font-size: 4rem;
            margin-bottom: 10px;
        }

        .weather-desc {
            opacity: 0.7;
            text-transform: capitalize;
        }

        .weather-details {
            display: grid;
            grid-template-columns: repeat(2, 1fr);
            gap: 15px;
        }

        .weather-detail {
            background: rgba(255, 255, 255, 0.05);
            padding: 15px;
            border-radius: 10px;
            text-align: center;
        }

        .weather-detail-value {
            font-size: 1.3rem;
            font-weight: 500;
        }

        .weather-detail-label {
            font-size: 0.8rem;
            opacity: 0.6;
            margin-top: 5px;
        }

        .weather-forecast {
            display: flex;
            gap: 15px;
            margin-top: 20px;
            overflow-x: auto;
            padding-bottom: 10px;
        }

        .forecast-day {
            background: rgba(255, 255, 255, 0.05);
            padding: 15px 20px;
            border-radius: 12px;
            text-align: center;
            min-width: 80px;
        }

        .forecast-day-name {
            font-size: 0.85rem;
            opacity: 0.7;
            margin-bottom: 8px;
        }

        .forecast-day-icon {
            font-size: 1.5rem;
            margin-bottom: 8px;
        }

        .forecast-day-temp {
            font-weight: 500;
        }

        /* Notes Section */
        .notes-container {
            display: grid;
            grid-template-columns: 1fr 1fr;
            gap: 20px;
        }

        @media (max-width: 768px) {
            .notes-container {
                grid-template-columns: 1fr;
            }
        }

        .notes-list {
            display: flex;
            flex-direction: column;
            gap: 10px;
        }

        .note-item {
            background: rgba(255, 255, 255, 0.06);
            padding: 15px;
            border-radius: 10px;
            cursor: pointer;
            transition: all 0.2s;
        }

        .note-item:hover {
            background: rgba(255, 255, 255, 0.1);
        }

        .note-item.active {
            background: rgba(255, 255, 255, 0.12);
            border-left: 3px solid #4facfe;
        }

        .note-title {
            font-weight: 500;
            margin-bottom: 5px;
        }

        .note-preview {
            font-size: 0.85rem;
            opacity: 0.6;
            white-space: nowrap;
            overflow: hidden;
            text-overflow: ellipsis;
        }

        .note-editor {
            display: flex;
            flex-direction: column;
            gap: 15px;
        }

        .note-editor input {
            padding: 15px;
            font-size: 1.1rem;
            font-weight: 500;
            background: rgba(255, 255, 255, 0.08);
            border: none;
            border-radius: 10px;
            color: #fff;
        }

        .note-editor textarea {
            flex: 1;
            min-height: 300px;
            padding: 15px;
            font-size: 1rem;
            background: rgba(255, 255, 255, 0.08);
            border: none;
            border-radius: 10px;
            color: #fff;
            resize: none;
            line-height: 1.6;
        }

        .note-editor input:focus,
        .note-editor textarea:focus {
            outline: none;
            background: rgba(255, 255, 255, 0.1);
        }

        .note-actions {
            display: flex;
            gap: 10px;
        }

        /* Todo Section */
        .todo-input-container {
            display: flex;
            gap: 10px;
            margin-bottom: 20px;
        }

        .todo-input-container input {
            flex: 1;
            padding: 14px 18px;
            font-size: 1rem;
            background: rgba(255, 255, 255, 0.08);
            border: none;
            border-radius: 10px;
            color: #fff;
        }

        .todo-input-container input:focus {
            outline: none;
            background: rgba(255, 255, 255, 0.12);
        }

        .todo-list {
            display: flex;
            flex-direction: column;
            gap: 8px;
        }

        .todo-item {
            display: flex;
            align-items: center;
            gap: 12px;
            padding: 14px 18px;
            background: rgba(255, 255, 255, 0.06);
            border-radius: 10px;
            transition: all 0.2s;
        }

        .todo-item:hover {
            background: rgba(255, 255, 255, 0.1);
        }

        .todo-item.completed {
            opacity: 0.5;
        }

        .todo-item.completed .todo-text {
            text-decoration: line-through;
        }

        .todo-checkbox {
            width: 22px;
            height: 22px;
            border: 2px solid rgba(255, 255, 255, 0.3);
            border-radius: 6px;
            cursor: pointer;
            display: flex;
            align-items: center;
            justify-content: center;
            transition: all 0.2s;
        }

        .todo-item.completed .todo-checkbox {
            background: #4facfe;
            border-color: #4facfe;
        }

        .todo-text {
            flex: 1;
        }

        .todo-delete {
            opacity: 0;
            cursor: pointer;
            padding: 5px;
            transition: opacity 0.2s;
        }

        .todo-item:hover .todo-delete {
            opacity: 0.5;
        }

        .todo-delete:hover {
            opacity: 1 !important;
        }

        /* Currency Widget */
        .currency-grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(200px, 1fr));
            gap: 15px;
        }

        .currency-card {
            background: rgba(255, 255, 255, 0.06);
            padding: 20px;
            border-radius: 12px;
            display: flex;
            align-items: center;
            gap: 15px;
        }

        .currency-icon {
            width: 50px;
            height: 50px;
            border-radius: 50%;
            display: flex;
            align-items: center;
            justify-content: center;
            font-size: 1.5rem;
            background: rgba(255, 255, 255, 0.1);
        }

        .currency-info {
            flex: 1;
        }

        .currency-name {
            font-size: 0.85rem;
            opacity: 0.6;
        }

        .currency-value {
            font-size: 1.4rem;
            font-weight: 500;
        }

        .currency-change {
            font-size: 0.85rem;
            margin-top: 3px;
        }

        .currency-change.up {
            color: #43e97b;
        }

        .currency-change.down {
            color: #f5576c;
        }

        /* Jewish Calendar */
        .jewish-calendar {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(280px, 1fr));
            gap: 20px;
        }

        .shabbat-card {
            background: linear-gradient(135deg, rgba(102, 126, 234, 0.3), rgba(118, 75, 162, 0.3));
            padding: 25px;
            border-radius: 16px;
            text-align: center;
        }

        .shabbat-title {
            font-size: 1.3rem;
            margin-bottom: 20px;
            display: flex;
            align-items: center;
            justify-content: center;
            gap: 10px;
        }

        .shabbat-times {
            display: flex;
            justify-content: center;
            gap: 40px;
        }

        .shabbat-time {
            text-align: center;
        }

        .shabbat-time-label {
            font-size: 0.85rem;
            opacity: 0.7;
            margin-bottom: 5px;
        }

        .shabbat-time-value {
            font-size: 1.8rem;
            font-weight: 300;
        }

        .parasha-card {
            background: rgba(255, 255, 255, 0.06);
            padding: 25px;
            border-radius: 16px;
        }

        .parasha-name {
            font-size: 1.5rem;
            margin-bottom: 10px;
        }

        .parasha-hebrew {
            font-size: 2rem;
            opacity: 0.8;
            margin-bottom: 15px;
        }

        .holidays-list {
            margin-top: 20px;
        }

        .holiday-item {
            display: flex;
            justify-content: space-between;
            padding: 12px 0;
            border-bottom: 1px solid rgba(255, 255, 255, 0.1);
        }

        .holiday-item:last-child {
            border-bottom: none;
        }

        /* Price Alerts */
        .alerts-grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(300px, 1fr));
            gap: 15px;
        }

        .alert-card {
            background: rgba(255, 255, 255, 0.06);
            padding: 20px;
            border-radius: 12px;
            display: flex;
            align-items: center;
            gap: 15px;
        }

        .alert-image {
            width: 70px;
            height: 70px;
            border-radius: 10px;
            background: rgba(255, 255, 255, 0.1);
            display: flex;
            align-items: center;
            justify-content: center;
            font-size: 2rem;
        }

        .alert-info {
            flex: 1;
        }

        .alert-name {
            font-weight: 500;
            margin-bottom: 5px;
        }

        .alert-prices {
            display: flex;
            gap: 15px;
            font-size: 0.9rem;
        }

        .alert-current {
            color: #4facfe;
        }

        .alert-target {
            opacity: 0.6;
        }

        .alert-status {
            padding: 6px 12px;
            border-radius: 20px;
            font-size: 0.8rem;
        }

        .alert-status.watching {
            background: rgba(79, 172, 254, 0.2);
            color: #4facfe;
        }

        .alert-status.triggered {
            background: rgba(67, 233, 123, 0.2);
            color: #43e97b;
        }

        .add-alert-form {
            display: grid;
            grid-template-columns: 2fr 1fr 1fr auto;
            gap: 10px;
            margin-bottom: 20px;
        }

        .add-alert-form input {
            padding: 12px 15px;
            background: rgba(255, 255, 255, 0.08);
            border: none;
            border-radius: 10px;
            color: #fff;
        }

        .add-alert-form input:focus {
            outline: none;
            background: rgba(255, 255, 255, 0.12);
        }

        /* Buttons */
        .btn {
            padding: 12px 24px;
            border: none;
            border-radius: 10px;
            font-size: 0.95rem;
            cursor: pointer;
            transition: all 0.3s ease;
            display: inline-flex;
            align-items: center;
            gap: 8px;
        }

        .btn-primary {
            background: #4361ee;
            color: #fff;
        }

        .btn-primary:hover {
            background: #3a56d4;
        }

        .btn-secondary {
            background: rgba(255, 255, 255, 0.1);
            color: #fff;
        }

        .btn-secondary:hover {
            background: rgba(255, 255, 255, 0.2);
        }

        .btn-danger {
            background: #e63946;
            color: #fff;
        }

        .btn-sm {
            padding: 8px 16px;
            font-size: 0.85rem;
        }

        /* Modal */
        .modal-overlay {
            display: none;
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background: rgba(0, 0, 0, 0.7);
            backdrop-filter: blur(5px);
            z-index: 1000;
            align-items: center;
            justify-content: center;
        }

        .modal-overlay.active {
            display: flex;
        }

        .modal {
            background: #1e2746;
            padding: 30px;
            border-radius: 20px;
            width: 90%;
            max-width: 450px;
            max-height: 90vh;
            overflow-y: auto;
        }

        .modal h2 {
            margin-bottom: 25px;
            font-weight: 500;
        }

        .form-group {
            margin-bottom: 20px;
        }

        .form-group label {
            display: block;
            margin-bottom: 8px;
            opacity: 0.8;
            font-size: 0.9rem;
        }

        .form-group input,
        .form-group select {
            width: 100%;
            padding: 14px 18px;
            font-size: 1rem;
            border: none;
            border-radius: 10px;
            background: rgba(255, 255, 255, 0.1);
            color: #fff;
        }

        .form-group input:focus,
        .form-group select:focus {
            outline: none;
            background: rgba(255, 255, 255, 0.15);
        }

        .color-picker {
            display: flex;
            gap: 10px;
            flex-wrap: wrap;
        }

        .color-option {
            width: 40px;
            height: 40px;
            border-radius: 10px;
            cursor: pointer;
            border: 3px solid transparent;
            transition: all 0.2s ease;
        }

        .color-option:hover,
        .color-option.selected {
            transform: scale(1.1);
            border-color: #fff;
        }

        .modal-buttons {
            display: flex;
            gap: 15px;
            margin-top: 25px;
        }

        .modal-buttons .btn {
            flex: 1;
        }

        /* Dashboard Stats */
        .stats-grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(200px, 1fr));
            gap: 20px;
            margin-bottom: 30px;
        }

        .stat-card {
            background: rgba(255, 255, 255, 0.06);
            padding: 25px;
            border-radius: 16px;
            text-align: center;
        }

        .stat-icon {
            font-size: 2rem;
            margin-bottom: 10px;
        }

        .stat-value {
            font-size: 2rem;
            font-weight: 500;
            margin-bottom: 5px;
        }

        .stat-label {
            font-size: 0.9rem;
            opacity: 0.6;
        }

        .quick-links {
            display: flex;
            flex-wrap: wrap;
            gap: 10px;
        }

        .quick-link {
            padding: 10px 20px;
            background: rgba(255, 255, 255, 0.08);
            border-radius: 10px;
            text-decoration: none;
            color: #fff;
            font-size: 0.9rem;
            transition: all 0.2s;
            display: flex;
            align-items: center;
            gap: 8px;
        }

        .quick-link:hover {
            background: rgba(255, 255, 255, 0.15);
        }

        /* Refresh indicator */
        .refresh-btn {
            background: none;
            border: none;
            color: rgba(255, 255, 255, 0.5);
            cursor: pointer;
            padding: 5px;
            transition: all 0.3s;
        }

        .refresh-btn:hover {
            color: #fff;
        }

        .refresh-btn.loading {
            animation: spin 1s linear infinite;
        }

        @keyframes spin {
            from { transform: rotate(0deg); }
            to { transform: rotate(360deg); }
        }

        /* Scrollbar */
        ::-webkit-scrollbar {
            width: 8px;
            height: 8px;
        }

        ::-webkit-scrollbar-track {
            background: rgba(255, 255, 255, 0.05);
        }

        ::-webkit-scrollbar-thumb {
            background: rgba(255, 255, 255, 0.2);
            border-radius: 4px;
        }

        ::-webkit-scrollbar-thumb:hover {
            background: rgba(255, 255, 255, 0.3);
        }

        /* Settings */
        .settings-section {
            margin-bottom: 30px;
        }

        .settings-title {
            font-size: 1.1rem;
            margin-bottom: 15px;
            opacity: 0.8;
        }

        .setting-item {
            display: flex;
            justify-content: space-between;
            align-items: center;
            padding: 15px;
            background: rgba(255, 255, 255, 0.05);
            border-radius: 10px;
            margin-bottom: 10px;
        }

        .setting-label {
            display: flex;
            flex-direction: column;
            gap: 3px;
        }

        .setting-description {
            font-size: 0.85rem;
            opacity: 0.5;
        }

        .toggle {
            width: 50px;
            height: 28px;
            background: rgba(255, 255, 255, 0.2);
            border-radius: 14px;
            cursor: pointer;
            position: relative;
            transition: all 0.3s;
        }

        .toggle.active {
            background: #4361ee;
        }

        .toggle::after {
            content: '';
            position: absolute;
            width: 22px;
            height: 22px;
            background: #fff;
            border-radius: 50%;
            top: 3px;
            left: 3px;
            transition: all 0.3s;
        }

        .toggle.active::after {
            left: 25px;
        }

        @media (max-width: 768px) {
            .nav-tabs {
                padding: 10px;
            }

            .nav-tab {
                padding: 10px 16px;
                font-size: 0.85rem;
            }

            .tab-content {
                padding: 20px 15px;
            }

            .weather-widget {
                flex-direction: column;
            }

            .shabbat-times {
                flex-direction: column;
                gap: 20px;
            }

            .add-alert-form {
                grid-template-columns: 1fr;
            }
        }
    </style>
</head>
<body>
    <!-- Header -->
    <div class="header">
        <h1>Bonjour, Ishay üëã</h1>
        <div class="datetime" id="datetime"></div>
        <div class="hebrew-date" id="hebrewDate"></div>
        <div class="search-bar">
            <input type="text" id="searchInput" placeholder="üîç Rechercher sur Google..." />
        </div>
    </div>

    <!-- Navigation -->
    <nav class="nav-tabs">
        <button class="nav-tab active" data-tab="home">üè† Accueil</button>
        <button class="nav-tab" data-tab="news">üì∞ Actualit√©s</button>
        <button class="nav-tab" data-tab="dashboard">üìä Dashboard</button>
        <button class="nav-tab" data-tab="weather">‚òÄÔ∏è M√©t√©o</button>
        <button class="nav-tab" data-tab="notes">üìù Notes</button>
        <button class="nav-tab" data-tab="currency">üíπ Devises</button>
        <button class="nav-tab" data-tab="calendar">üïé Calendrier</button>
        <button class="nav-tab" data-tab="alerts">üîî Alertes</button>
        <button class="nav-tab" data-tab="settings">‚öôÔ∏è Param√®tres</button>
    </nav>

    <!-- Home Tab -->
    <div class="tab-content active" id="home">
        <div id="shortcuts-container"></div>
        <button class="btn btn-secondary" onclick="openCategoryModal()" style="margin-top: 20px;">
            + Ajouter une cat√©gorie
        </button>
    </div>

    <!-- News Tab -->
    <div class="tab-content" id="news">
        <div class="news-grid">
            <div class="news-category">
                <div class="news-category-header">üá´üá∑ Actualit√©s France</div>
                <div class="news-list" id="news-france">
                    <div class="news-loading">Chargement...</div>
                </div>
            </div>
            <div class="news-category">
                <div class="news-category-header">üíº Business & √âconomie</div>
                <div class="news-list" id="news-business">
                    <div class="news-loading">Chargement...</div>
                </div>
            </div>
            <div class="news-category">
                <div class="news-category-header">üíª Tech & Innovation</div>
                <div class="news-list" id="news-tech">
                    <div class="news-loading">Chargement...</div>
                </div>
            </div>
            <div class="news-category">
                <div class="news-category-header">üå± √ânergie & Environnement</div>
                <div class="news-list" id="news-energy">
                    <div class="news-loading">Chargement...</div>
                </div>
            </div>
        </div>
    </div>

    <!-- Dashboard Tab -->
    <div class="tab-content" id="dashboard">
        <div class="stats-grid">
            <div class="stat-card">
                <div class="stat-icon">üõí</div>
                <div class="stat-value" id="stat-orders">--</div>
                <div class="stat-label">Commandes ce mois</div>
            </div>
            <div class="stat-card">
                <div class="stat-icon">üí∞</div>
                <div class="stat-value" id="stat-revenue">--</div>
                <div class="stat-label">Chiffre d'affaires</div>
            </div>
            <div class="stat-card">
                <div class="stat-icon">üë•</div>
                <div class="stat-value" id="stat-visitors">--</div>
                <div class="stat-label">Visiteurs</div>
            </div>
            <div class="stat-card">
                <div class="stat-icon">üìà</div>
                <div class="stat-value" id="stat-conversion">--</div>
                <div class="stat-label">Taux conversion</div>
            </div>
        </div>

        <div class="card">
            <div class="card-header">
                <span class="card-title">üîó Acc√®s rapide Analytics</span>
            </div>
            <div class="quick-links">
                <a href="https://admin.shopify.com/store/chabadclub/analytics" target="_blank" class="quick-link">
                    üìä ChabadClub Analytics
                </a>
                <a href="https://admin.shopify.com/store/sneakers-heat/analytics" target="_blank" class="quick-link">
                    üëü Sneakers Heat Analytics
                </a>
                <a href="https://analytics.google.com" target="_blank" class="quick-link">
                    üìà Google Analytics
                </a>
                <a href="https://search.google.com/search-console" target="_blank" class="quick-link">
                    üîç Search Console
                </a>
            </div>
        </div>

        <div class="card">
            <div class="card-header">
                <span class="card-title">üìã T√¢ches du jour</span>
            </div>
            <div class="todo-input-container">
                <input type="text" id="todoInput" placeholder="Ajouter une t√¢che..." />
                <button class="btn btn-primary" onclick="addTodo()">Ajouter</button>
            </div>
            <div class="todo-list" id="todoList"></div>
        </div>
    </div>

    <!-- Weather Tab -->
    <div class="tab-content" id="weather">
        <div class="card">
            <div class="card-header">
                <span class="card-title">üå§Ô∏è M√©t√©o actuelle</span>
                <button class="refresh-btn" onclick="loadWeather()">üîÑ</button>
            </div>
            <div class="weather-widget" id="weatherWidget">
                <div class="news-loading">Chargement de la m√©t√©o...</div>
            </div>
        </div>
        <div class="card">
            <div class="card-header">
                <span class="card-title">üìÖ Pr√©visions 5 jours</span>
            </div>
            <div class="weather-forecast" id="weatherForecast"></div>
        </div>
        <div class="card">
            <div class="card-header">
                <span class="card-title">üìç Ma ville</span>
            </div>
            <div class="form-group">
                <input type="text" id="weatherCity" placeholder="Entrez votre ville..." />
                <button class="btn btn-primary btn-sm" style="margin-top: 10px;" onclick="saveWeatherCity()">Enregistrer</button>
            </div>
        </div>
    </div>

    <!-- Notes Tab -->
    <div class="tab-content" id="notes">
        <div class="notes-container">
            <div>
                <div class="card-header">
                    <span class="card-title">üìù Mes notes</span>
                    <button class="btn btn-primary btn-sm" onclick="createNote()">+ Nouvelle</button>
                </div>
                <div class="notes-list" id="notesList"></div>
            </div>
            <div class="note-editor" id="noteEditor" style="display: none;">
                <input type="text" id="noteTitle" placeholder="Titre de la note..." />
                <textarea id="noteContent" placeholder="√âcrivez votre note ici..."></textarea>
                <div class="note-actions">
                    <button class="btn btn-primary" onclick="saveNote()">üíæ Enregistrer</button>
                    <button class="btn btn-danger" onclick="deleteNote()">üóëÔ∏è Supprimer</button>
                </div>
            </div>
        </div>
    </div>

    <!-- Currency Tab -->
    <div class="tab-content" id="currency">
        <div class="card">
            <div class="card-header">
                <span class="card-title">üí± Taux de change</span>
                <button class="refresh-btn" onclick="loadCurrency()">üîÑ</button>
            </div>
            <div class="currency-grid" id="currencyGrid">
                <div class="news-loading">Chargement des taux...</div>
            </div>
        </div>
        <div class="card">
            <div class="card-header">
                <span class="card-title">‚Çø Cryptomonnaies</span>
            </div>
            <div class="currency-grid" id="cryptoGrid">
                <div class="news-loading">Chargement...</div>
            </div>
        </div>
    </div>

    <!-- Jewish Calendar Tab -->
    <div class="tab-content" id="calendar">
        <div class="jewish-calendar">
            <div class="shabbat-card">
                <div class="shabbat-title">üïØÔ∏è Horaires Shabbat</div>
                <div class="shabbat-times">
                    <div class="shabbat-time">
                        <div class="shabbat-time-label">Entr√©e</div>
                        <div class="shabbat-time-value" id="shabbatIn">--:--</div>
                    </div>
                    <div class="shabbat-time">
                        <div class="shabbat-time-label">Sortie</div>
                        <div class="shabbat-time-value" id="shabbatOut">--:--</div>
                    </div>
                </div>
            </div>
            <div class="parasha-card">
                <div class="card-title">üìñ Paracha de la semaine</div>
                <div class="parasha-name" id="parashaName">--</div>
                <div class="parasha-hebrew" id="parashaHebrew">--</div>
            </div>
        </div>
        <div class="card" style="margin-top: 20px;">
            <div class="card-header">
                <span class="card-title">üìÖ Prochaines f√™tes</span>
            </div>
            <div class="holidays-list" id="holidaysList"></div>
        </div>
        <div class="card">
            <div class="card-header">
                <span class="card-title">üìç Ma ville pour les horaires</span>
            </div>
            <div class="form-group">
                <input type="text" id="jewishCity" placeholder="Ville (ex: Paris, Jerusalem...)" />
                <button class="btn btn-primary btn-sm" style="margin-top: 10px;" onclick="saveJewishCity()">Enregistrer</button>
            </div>
        </div>
    </div>

    <!-- Alerts Tab -->
    <div class="tab-content" id="alerts">
        <div class="card">
            <div class="card-header">
                <span class="card-title">üîî Alertes Prix Sneakers</span>
            </div>
            <div class="add-alert-form">
                <input type="text" id="alertProduct" placeholder="Nom du produit (ex: Jordan 1 Retro)" />
                <input type="number" id="alertTarget" placeholder="Prix cible ‚Ç¨" />
                <input type="text" id="alertSku" placeholder="SKU (optionnel)" />
                <button class="btn btn-primary" onclick="addAlert()">+ Ajouter</button>
            </div>
            <div class="alerts-grid" id="alertsGrid"></div>
        </div>
    </div>

    <!-- Settings Tab -->
    <div class="tab-content" id="settings">
        <div class="card">
            <div class="settings-section">
                <div class="settings-title">üé® Apparence</div>
                <div class="setting-item">
                    <div class="setting-label">
                        <span>Mode sombre</span>
                        <span class="setting-description">Toujours activ√©</span>
                    </div>
                    <div class="toggle active"></div>
                </div>
            </div>
            <div class="settings-section">
                <div class="settings-title">üîî Notifications</div>
                <div class="setting-item">
                    <div class="setting-label">
                        <span>Alertes prix</span>
                        <span class="setting-description">Recevoir une alerte quand le prix cible est atteint</span>
                    </div>
                    <div class="toggle active" onclick="this.classList.toggle('active')"></div>
                </div>
            </div>
            <div class="settings-section">
                <div class="settings-title">üíæ Donn√©es</div>
                <div class="setting-item">
                    <div class="setting-label">
                        <span>Exporter mes donn√©es</span>
                        <span class="setting-description">T√©l√©charger toutes vos donn√©es en JSON</span>
                    </div>
                    <button class="btn btn-secondary btn-sm" onclick="exportData()">Exporter</button>
                </div>
                <div class="setting-item">
                    <div class="setting-label">
                        <span>R√©initialiser</span>
                        <span class="setting-description">Supprimer toutes les donn√©es et revenir aux param√®tres par d√©faut</span>
                    </div>
                    <button class="btn btn-danger btn-sm" onclick="resetData()">R√©initialiser</button>
                </div>
            </div>
        </div>
    </div>

    <!-- Shortcut Modal -->
    <div class="modal-overlay" id="shortcutModal">
        <div class="modal">
            <h2 id="shortcutModalTitle">Ajouter un raccourci</h2>
            <div class="form-group">
                <label>Nom du site</label>
                <input type="text" id="siteName" placeholder="Ex: Les Artisans Verts" />
            </div>
            <div class="form-group">
                <label>URL du site</label>
                <input type="url" id="siteUrl" placeholder="https://exemple.com" />
            </div>
            <div class="form-group">
                <label>Couleur</label>
                <div class="color-picker">
                    <div class="color-option color-1 selected" data-color="color-1"></div>
                    <div class="color-option color-2" data-color="color-2"></div>
                    <div class="color-option color-3" data-color="color-3"></div>
                    <div class="color-option color-4" data-color="color-4"></div>
                    <div class="color-option color-5" data-color="color-5"></div>
                    <div class="color-option color-6" data-color="color-6"></div>
                    <div class="color-option color-7" data-color="color-7"></div>
                    <div class="color-option color-8" data-color="color-8"></div>
                </div>
            </div>
            <div class="modal-buttons">
                <button class="btn btn-secondary" onclick="closeShortcutModal()">Annuler</button>
                <button class="btn btn-primary" onclick="saveShortcut()">Enregistrer</button>
            </div>
            <button class="btn btn-danger" id="deleteShortcutBtn" style="display: none; width: 100%; margin-top: 10px;" onclick="deleteShortcut()">Supprimer</button>
        </div>
    </div>

    <!-- Category Modal -->
    <div class="modal-overlay" id="categoryModal">
        <div class="modal">
            <h2>Ajouter une cat√©gorie</h2>
            <div class="form-group">
                <label>Nom de la cat√©gorie</label>
                <input type="text" id="categoryName" placeholder="Ex: Travail, Personnel..." />
            </div>
            <div class="modal-buttons">
                <button class="btn btn-secondary" onclick="closeCategoryModal()">Annuler</button>
                <button class="btn btn-primary" onclick="saveCategory()">Cr√©er</button>
            </div>
        </div>
    </div>

    <script>
        // ============ DATA & STATE ============
        const defaultData = {
            categories: [
                {
                    id: 'work',
                    name: 'üíº Travail',
                    shortcuts: [
                        { id: '1', name: 'Les Artisans Verts', url: 'https://lesartisansverts.fr', color: 'color-4' },
                        { id: '2', name: 'ChabadClub', url: 'https://chabadclub.org', color: 'color-1' },
                        { id: '3', name: 'Sneakers Heat', url: 'https://sneakers-heat.com', color: 'color-5' },
                        { id: '4', name: 'Shopify Admin', url: 'https://admin.shopify.com', color: 'color-3' }
                    ]
                },
                {
                    id: 'tools',
                    name: 'üõ†Ô∏è Outils',
                    shortcuts: [
                        { id: '5', name: 'GitHub', url: 'https://github.com', color: 'color-6' },
                        { id: '6', name: 'Gmail', url: 'https://mail.google.com', color: 'color-2' },
                        { id: '7', name: 'Google Drive', url: 'https://drive.google.com', color: 'color-3' },
                        { id: '8', name: 'Claude AI', url: 'https://claude.ai', color: 'color-1' }
                    ]
                }
            ],
            notes: [],
            todos: [],
            alerts: [
                { id: '1', name: 'Jordan 1 Retro High OG', sku: 'DZ5485-612', target: 180, current: 210, status: 'watching' },
                { id: '2', name: 'Yeezy Boost 350 V2', sku: 'HQ4540', target: 200, current: 195, status: 'triggered' }
            ],
            settings: {
                weatherCity: 'Paris',
                jewishCity: 'Paris'
            }
        };

        let data = JSON.parse(localStorage.getItem('dashboardData')) || defaultData;
        let editingShortcut = null;
        let currentCategoryId = null;
        let selectedColor = 'color-1';
        let currentNoteId = null;

        // ============ INITIALIZATION ============
        function init() {
            updateDateTime();
            setInterval(updateDateTime, 60000);
            
            renderShortcuts();
            renderTodos();
            renderNotes();
            renderAlerts();
            
            loadNews();
            loadWeather();
            loadCurrency();
            loadJewishCalendar();
            
            document.getElementById('weatherCity').value = data.settings.weatherCity || 'Paris';
            document.getElementById('jewishCity').value = data.settings.jewishCity || 'Paris';
            
            // Tab navigation
            document.querySelectorAll('.nav-tab').forEach(tab => {
                tab.addEventListener('click', () => {
                    document.querySelectorAll('.nav-tab').forEach(t => t.classList.remove('active'));
                    document.querySelectorAll('.tab-content').forEach(c => c.classList.remove('active'));
                    tab.classList.add('active');
                    document.getElementById(tab.dataset.tab).classList.add('active');
                });
            });

            // Search
            document.getElementById('searchInput').addEventListener('keypress', (e) => {
                if (e.key === 'Enter' && e.target.value.trim()) {
                    window.open(`https://www.google.com/search?q=${encodeURIComponent(e.target.value)}`, '_blank');
                    e.target.value = '';
                }
            });

            // Todo input
            document.getElementById('todoInput').addEventListener('keypress', (e) => {
                if (e.key === 'Enter') addTodo();
            });

            // Color picker
            document.querySelectorAll('.color-option').forEach(el => {
                el.addEventListener('click', () => selectColor(el.dataset.color));
            });

            // Close modals on outside click
            document.querySelectorAll('.modal-overlay').forEach(overlay => {
                overlay.addEventListener('click', (e) => {
                    if (e.target === overlay) overlay.classList.remove('active');
                });
            });
        }

        // ============ DATE & TIME ============
        function updateDateTime() {
            const now = new Date();
            const options = { weekday: 'long', day: 'numeric', month: 'long', hour: '2-digit', minute: '2-digit' };
            document.getElementById('datetime').textContent = now.toLocaleDateString('fr-FR', options);
        }

        // ============ SHORTCUTS ============
        function renderShortcuts() {
            const container = document.getElementById('shortcuts-container');
            container.innerHTML = '';

            data.categories.forEach(category => {
                const categoryEl = document.createElement('div');
                categoryEl.className = 'card';
                categoryEl.innerHTML = `
                    <div class="card-header">
                        <span class="card-title">${category.name}</span>
                    </div>
                    <div class="shortcuts-grid">
                        ${category.shortcuts.map(shortcut => `
                            <a href="${shortcut.url}" target="_blank" class="shortcut" 
                               oncontextmenu="openEditShortcut(event, '${category.id}', '${shortcut.id}')">
                                <div class="shortcut-icon ${shortcut.color}">${getInitials(shortcut.name)}</div>
                                <span class="shortcut-name">${shortcut.name}</span>
                            </a>
                        `).join('')}
                        <div class="shortcut add-shortcut" onclick="openAddShortcut('${category.id}')">
                            <div class="shortcut-icon">+</div>
                            <span class="shortcut-name">Ajouter</span>
                        </div>
                    </div>
                `;
                container.appendChild(categoryEl);
            });
        }

        function getInitials(name) {
            return name.split(' ').map(w => w[0]).join('').substring(0, 2).toUpperCase();
        }

        function openAddShortcut(categoryId) {
            currentCategoryId = categoryId;
            editingShortcut = null;
            document.getElementById('shortcutModalTitle').textContent = 'Ajouter un raccourci';
            document.getElementById('siteName').value = '';
            document.getElementById('siteUrl').value = '';
            document.getElementById('deleteShortcutBtn').style.display = 'none';
            selectColor('color-1');
            document.getElementById('shortcutModal').classList.add('active');
        }

        function openEditShortcut(e, categoryId, shortcutId) {
            e.preventDefault();
            currentCategoryId = categoryId;
            const category = data.categories.find(c => c.id === categoryId);
            editingShortcut = category.shortcuts.find(s => s.id === shortcutId);
            
            document.getElementById('shortcutModalTitle').textContent = 'Modifier le raccourci';
            document.getElementById('siteName').value = editingShortcut.name;
            document.getElementById('siteUrl').value = editingShortcut.url;
            document.getElementById('deleteShortcutBtn').style.display = 'block';
            selectColor(editingShortcut.color);
            document.getElementById('shortcutModal').classList.add('active');
        }

        function closeShortcutModal() {
            document.getElementById('shortcutModal').classList.remove('active');
        }

        function selectColor(color) {
            selectedColor = color;
            document.querySelectorAll('.color-option').forEach(el => {
                el.classList.toggle('selected', el.dataset.color === color);
            });
        }

        function saveShortcut() {
            const name = document.getElementById('siteName').value.trim();
            let url = document.getElementById('siteUrl').value.trim();

            if (!name || !url) {
                alert('Veuillez remplir tous les champs');
                return;
            }

            if (!url.startsWith('http')) url = 'https://' + url;

            const category = data.categories.find(c => c.id === currentCategoryId);

            if (editingShortcut) {
                editingShortcut.name = name;
                editingShortcut.url = url;
                editingShortcut.color = selectedColor;
            } else {
                category.shortcuts.push({
                    id: Date.now().toString(),
                    name, url,
                    color: selectedColor
                });
            }

            saveData();
            closeShortcutModal();
            renderShortcuts();
        }

        function deleteShortcut() {
            if (confirm('Supprimer ce raccourci ?')) {
                const category = data.categories.find(c => c.id === currentCategoryId);
                category.shortcuts = category.shortcuts.filter(s => s.id !== editingShortcut.id);
                saveData();
                closeShortcutModal();
                renderShortcuts();
            }
        }

        function openCategoryModal() {
            document.getElementById('categoryName').value = '';
            document.getElementById('categoryModal').classList.add('active');
        }

        function closeCategoryModal() {
            document.getElementById('categoryModal').classList.remove('active');
        }

        function saveCategory() {
            const name = document.getElementById('categoryName').value.trim();
            if (!name) {
                alert('Veuillez entrer un nom');
                return;
            }

            data.categories.push({
                id: Date.now().toString(),
                name,
                shortcuts: []
            });

            saveData();
            closeCategoryModal();
            renderShortcuts();
        }

        // ============ NEWS ============
        async function loadNews() {
            // Using RSS to JSON converters or mock data
            const newsCategories = {
                'news-france': [
                    { title: 'Les derni√®res actualit√©s en France', source: 'Le Monde', time: 'Il y a 2h', url: 'https://lemonde.fr' },
                    { title: 'Politique : les derniers d√©veloppements', source: 'Le Figaro', time: 'Il y a 3h', url: 'https://lefigaro.fr' },
                    { title: '√âconomie fran√ßaise : bilan du trimestre', source: 'Les √âchos', time: 'Il y a 4h', url: 'https://lesechos.fr' },
                ],
                'news-business': [
                    { title: 'E-commerce : tendances 2024', source: 'Les √âchos', time: 'Il y a 1h', url: 'https://lesechos.fr' },
                    { title: 'Startups : les lev√©es de fonds du mois', source: 'BFM Business', time: 'Il y a 2h', url: 'https://bfmtv.com' },
                    { title: 'Retail : l\'√©volution des habitudes consommateurs', source: 'LSA', time: 'Il y a 5h', url: 'https://lsa-conso.fr' },
                ],
                'news-tech': [
                    { title: 'IA : les derni√®res avanc√©es de Claude', source: 'TechCrunch', time: 'Il y a 30min', url: 'https://techcrunch.com' },
                    { title: 'Shopify d√©voile de nouvelles fonctionnalit√©s', source: 'Shopify Blog', time: 'Il y a 2h', url: 'https://shopify.com/blog' },
                    { title: 'E-commerce automation : guide 2024', source: 'Practical Ecommerce', time: 'Il y a 4h', url: 'https://practicalecommerce.com' },
                ],
                'news-energy': [
                    { title: 'Pompes √† chaleur : boom des installations', source: 'Batiactu', time: 'Il y a 1h', url: 'https://batiactu.com' },
                    { title: 'MaPrimeR√©nov : les nouveaux bar√®mes', source: 'Minist√®re', time: 'Il y a 3h', url: 'https://maprimerenov.gouv.fr' },
                    { title: '√ânergies renouvelables : objectifs 2030', source: 'Actu Environnement', time: 'Il y a 5h', url: 'https://actu-environnement.com' },
                ]
            };

            Object.entries(newsCategories).forEach(([containerId, news]) => {
                const container = document.getElementById(containerId);
                container.innerHTML = news.map(item => `
                    <a href="${item.url}" target="_blank" class="news-item">
                        <div class="news-item-title">${item.title}</div>
                        <div class="news-item-meta">${item.source} ‚Ä¢ ${item.time}</div>
                    </a>
                `).join('');
            });
        }

        // ============ WEATHER ============
        async function loadWeather() {
            const city = data.settings.weatherCity || 'Paris';
            
            // Mock weather data (replace with real API like OpenWeatherMap)
            const weather = {
                temp: 18,
                desc: 'Partiellement nuageux',
                icon: '‚õÖ',
                humidity: 65,
                wind: 12,
                feelsLike: 16,
                uv: 3
            };

            document.getElementById('weatherWidget').innerHTML = `
                <div class="weather-main">
                    <div class="weather-icon">${weather.icon}</div>
                    <div class="weather-temp">${weather.temp}¬∞C</div>
                    <div class="weather-desc">${weather.desc}</div>
                    <div style="opacity: 0.6; margin-top: 5px;">${city}</div>
                </div>
                <div class="weather-details">
                    <div class="weather-detail">
                        <div class="weather-detail-value">${weather.feelsLike}¬∞</div>
                        <div class="weather-detail-label">Ressenti</div>
                    </div>
                    <div class="weather-detail">
                        <div class="weather-detail-value">${weather.humidity}%</div>
                        <div class="weather-detail-label">Humidit√©</div>
                    </div>
                    <div class="weather-detail">
                        <div class="weather-detail-value">${weather.wind} km/h</div>
                        <div class="weather-detail-label">Vent</div>
                    </div>
                    <div class="weather-detail">
                        <div class="weather-detail-value">${weather.uv}</div>
                        <div class="weather-detail-label">Index UV</div>
                    </div>
                </div>
            `;

            // Forecast
            const days = ['Lun', 'Mar', 'Mer', 'Jeu', 'Ven'];
            const icons = ['‚òÄÔ∏è', '‚õÖ', 'üåßÔ∏è', '‚òÄÔ∏è', '‚õÖ'];
            const temps = [20, 18, 15, 22, 19];

            document.getElementById('weatherForecast').innerHTML = days.map((day, i) => `
                <div class="forecast-day">
                    <div class="forecast-day-name">${day}</div>
                    <div class="forecast-day-icon">${icons[i]}</div>
                    <div class="forecast-day-temp">${temps[i]}¬∞</div>
                </div>
            `).join('');
        }

        function saveWeatherCity() {
            data.settings.weatherCity = document.getElementById('weatherCity').value.trim() || 'Paris';
            saveData();
            loadWeather();
            alert('Ville enregistr√©e !');
        }

        // ============ NOTES ============
        function renderNotes() {
            const list = document.getElementById('notesList');
            
            if (data.notes.length === 0) {
                list.innerHTML = '<div style="opacity: 0.5; padding: 20px; text-align: center;">Aucune note. Cr√©ez-en une !</div>';
                return;
            }

            list.innerHTML = data.notes.map(note => `
                <div class="note-item ${currentNoteId === note.id ? 'active' : ''}" onclick="selectNote('${note.id}')">
                    <div class="note-title">${note.title || 'Sans titre'}</div>
                    <div class="note-preview">${note.content.substring(0, 50) || 'Note vide...'}</div>
                </div>
            `).join('');
        }

        function createNote() {
            const note = {
                id: Date.now().toString(),
                title: '',
                content: '',
                created: new Date().toISOString()
            };
            data.notes.unshift(note);
            currentNoteId = note.id;
            saveData();
            renderNotes();
            showNoteEditor(note);
        }

        function selectNote(id) {
            currentNoteId = id;
            const note = data.notes.find(n => n.id === id);
            renderNotes();
            showNoteEditor(note);
        }

        function showNoteEditor(note) {
            const editor = document.getElementById('noteEditor');
            editor.style.display = 'flex';
            document.getElementById('noteTitle').value = note.title;
            document.getElementById('noteContent').value = note.content;
        }

        function saveNote() {
            const note = data.notes.find(n => n.id === currentNoteId);
            if (note) {
                note.title = document.getElementById('noteTitle').value;
                note.content = document.getElementById('noteContent').value;
                saveData();
                renderNotes();
            }
        }

        function deleteNote() {
            if (confirm('Supprimer cette note ?')) {
                data.notes = data.notes.filter(n => n.id !== currentNoteId);
                currentNoteId = null;
                document.getElementById('noteEditor').style.display = 'none';
                saveData();
                renderNotes();
            }
        }

        // ============ TODOS ============
        function renderTodos() {
            const list = document.getElementById('todoList');
            
            if (data.todos.length === 0) {
                list.innerHTML = '<div style="opacity: 0.5; padding: 20px; text-align: center;">Aucune t√¢che. Ajoutez-en une !</div>';
                return;
            }

            list.innerHTML = data.todos.map(todo => `
                <div class="todo-item ${todo.completed ? 'completed' : ''}" data-id="${todo.id}">
                    <div class="todo-checkbox" onclick="toggleTodo('${todo.id}')">
                        ${todo.completed ? '‚úì' : ''}
                    </div>
                    <span class="todo-text">${todo.text}</span>
                    <span class="todo-delete" onclick="deleteTodo('${todo.id}')">‚úï</span>
                </div>
            `).join('');
        }

        function addTodo() {
            const input = document.getElementById('todoInput');
            const text = input.value.trim();
            if (!text) return;

            data.todos.push({
                id: Date.now().toString(),
                text,
                completed: false
            });

            input.value = '';
            saveData();
            renderTodos();
        }

        function toggleTodo(id) {
            const todo = data.todos.find(t => t.id === id);
            if (todo) {
                todo.completed = !todo.completed;
                saveData();
                renderTodos();
            }
        }

        function deleteTodo(id) {
            data.todos = data.todos.filter(t => t.id !== id);
            saveData();
            renderTodos();
        }

        // ============ CURRENCY ============
        async function loadCurrency() {
            // Mock currency data (replace with real API like exchangerate-api.com)
            const currencies = [
                { code: 'USD/EUR', name: 'Dollar US', value: 0.92, change: -0.3, icon: 'üá∫üá∏' },
                { code: 'GBP/EUR', name: 'Livre Sterling', value: 1.17, change: 0.2, icon: 'üá¨üáß' },
                { code: 'CHF/EUR', name: 'Franc Suisse', value: 1.04, change: 0.1, icon: 'üá®üá≠' },
                { code: 'ILS/EUR', name: 'Shekel', value: 0.25, change: -0.5, icon: 'üáÆüá±' }
            ];

            document.getElementById('currencyGrid').innerHTML = currencies.map(c => `
                <div class="currency-card">
                    <div class="currency-icon">${c.icon}</div>
                    <div class="currency-info">
                        <div class="currency-name">${c.code}</div>
                        <div class="currency-value">${c.value.toFixed(4)}</div>
                        <div class="currency-change ${c.change >= 0 ? 'up' : 'down'}">
                            ${c.change >= 0 ? '‚Üë' : '‚Üì'} ${Math.abs(c.change)}%
                        </div>
                    </div>
                </div>
            `).join('');

            // Crypto
            const cryptos = [
                { code: 'BTC', name: 'Bitcoin', value: 62450, change: 2.4, icon: '‚Çø' },
                { code: 'ETH', name: 'Ethereum', value: 3120, change: -1.2, icon: 'Œû' },
                { code: 'SOL', name: 'Solana', value: 142, change: 5.1, icon: '‚óé' }
            ];

            document.getElementById('cryptoGrid').innerHTML = cryptos.map(c => `
                <div class="currency-card">
                    <div class="currency-icon">${c.icon}</div>
                    <div class="currency-info">
                        <div class="currency-name">${c.code}</div>
                        <div class="currency-value">$${c.value.toLocaleString()}</div>
                        <div class="currency-change ${c.change >= 0 ? 'up' : 'down'}">
                            ${c.change >= 0 ? '‚Üë' : '‚Üì'} ${Math.abs(c.change)}%
                        </div>
                    </div>
                </div>
            `).join('');
        }

        // ============ JEWISH CALENDAR ============
        async function loadJewishCalendar() {
            const city = data.settings.jewishCity || 'Paris';
            
            // Mock data (replace with Hebcal API)
            document.getElementById('hebrewDate').textContent = '◊õ◊¥◊í ◊©◊ë◊ò ◊™◊©◊§◊¥◊î';
            document.getElementById('shabbatIn').textContent = '17:42';
            document.getElementById('shabbatOut').textContent = '18:52';
            document.getElementById('parashaName').textContent = 'Mishpatim';
            document.getElementById('parashaHebrew').textContent = '◊û◊©◊§◊ò◊ô◊ù';

            const holidays = [
                { name: 'Pourim', date: '14 Mars 2025', hebrew: '◊§◊ï◊®◊ô◊ù' },
                { name: 'Pessah', date: '13 Avril 2025', hebrew: '◊§◊°◊ó' },
                { name: 'Shavouot', date: '2 Juin 2025', hebrew: '◊©◊ë◊ï◊¢◊ï◊™' }
            ];

            document.getElementById('holidaysList').innerHTML = holidays.map(h => `
                <div class="holiday-item">
                    <div>
                        <strong>${h.name}</strong>
                        <span style="opacity: 0.6; margin-left: 10px;">${h.hebrew}</span>
                    </div>
                    <div style="opacity: 0.7;">${h.date}</div>
                </div>
            `).join('');
        }

        function saveJewishCity() {
            data.settings.jewishCity = document.getElementById('jewishCity').value.trim() || 'Paris';
            saveData();
            loadJewishCalendar();
            alert('Ville enregistr√©e !');
        }

        // ============ PRICE ALERTS ============
        function renderAlerts() {
            const grid = document.getElementById('alertsGrid');
            
            if (data.alerts.length === 0) {
                grid.innerHTML = '<div style="opacity: 0.5; padding: 20px; text-align: center;">Aucune alerte. Ajoutez-en une !</div>';
                return;
            }

            grid.innerHTML = data.alerts.map(alert => `
                <div class="alert-card">
                    <div class="alert-image">üëü</div>
                    <div class="alert-info">
                        <div class="alert-name">${alert.name}</div>
                        <div class="alert-prices">
                            <span class="alert-current">Actuel: ${alert.current}‚Ç¨</span>
                            <span class="alert-target">Cible: ${alert.target}‚Ç¨</span>
                        </div>
                    </div>
                    <div class="alert-status ${alert.status}">${alert.status === 'triggered' ? '‚úì Atteint' : 'üëÅÔ∏è Surveill√©'}</div>
                </div>
            `).join('');
        }

        function addAlert() {
            const name = document.getElementById('alertProduct').value.trim();
            const target = parseInt(document.getElementById('alertTarget').value);
            const sku = document.getElementById('alertSku').value.trim();

            if (!name || !target) {
                alert('Veuillez remplir le nom et le prix cible');
                return;
            }

            data.alerts.push({
                id: Date.now().toString(),
                name,
                sku,
                target,
                current: target + Math.floor(Math.random() * 50),
                status: 'watching'
            });

            document.getElementById('alertProduct').value = '';
            document.getElementById('alertTarget').value = '';
            document.getElementById('alertSku').value = '';

            saveData();
            renderAlerts();
        }

        // ============ SETTINGS ============
        function exportData() {
            const blob = new Blob([JSON.stringify(data, null, 2)], { type: 'application/json' });
            const url = URL.createObjectURL(blob);
            const a = document.createElement('a');
            a.href = url;
            a.download = 'dashboard-backup.json';
            a.click();
        }

        function resetData() {
            if (confirm('√ätes-vous s√ªr ? Toutes vos donn√©es seront perdues.')) {
                localStorage.removeItem('dashboardData');
                data = JSON.parse(JSON.stringify(defaultData));
                location.reload();
            }
        }

        // ============ STORAGE ============
        function saveData() {
            localStorage.setItem('dashboardData', JSON.stringify(data));
        }

        // ============ START ============
        init();
    </script>
</body>
</html>
